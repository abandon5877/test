# 魔法编程冒险 (Magic Coding Adventure)

一个将"编译原理"概念趣味化的回合制文字冒险游戏。玩家在战前像编写程序一样组合"符文"，在伪即时战斗中进行"编译执行"。

## 项目特性

- **符文组合系统**：通过组合不同类型的符文创建强大的法术
- **ATB战斗系统**：基于速度属性的伪即时战斗
- **施法与打断机制**：吟唱过程中可能被敌人打断
- **战斗日志**：记录战斗过程中的关键事件
- **本地存储**：自动保存游戏进度
- **响应式设计**：适配不同屏幕尺寸

## 技术栈

- **核心**：HTML5, CSS3, TypeScript (ES6+)
- **构建工具**：Vite
- **测试框架**：Vitest
- **代码规范**：ESLint + Prettier

## 快速开始

### 安装依赖

```bash
npm install
```

### 开发模式

```bash
npm run dev
```

### 构建生产版本

```bash
npm run build
```

### 运行测试

```bash
npm test
```

### 预览生产构建

```bash
npm run preview
```

## 游戏玩法

### 营地场景
1. 从符文库中选择符文，拖拽或点击添加到法术卡槽
2. 查看法术预览，了解法术的属性和效果
3. 点击"开始战斗"按钮进入战斗场景

### 战斗场景
1. 观察行动条，当行动条满时角色准备就绪
2. 选择要释放的法术
3. 等待法术吟唱完成，或被敌人打断
4. 击败敌人或被敌人击败后返回营地

## 符文系统

### 符文类型

- **核心符 (CORE)**：定义法术的基础效果，如火球术、治疗术
- **修饰符 (MOD)**：改变紧随其后的核心符属性，如强化、迅捷、双重
- **控制符 (CONTROL)**：预留，用于改变执行流程

### 组合规则

- 修饰符需置于核心符之前才能生效
- 符文组合的顺序会影响最终效果
- 系统会自动计算组合后的法术属性

## 项目结构

```
magic-coding-adventure/
├── index.html              # 主HTML文件
├── package.json            # 项目配置和依赖
├── vite.config.ts          # Vite配置
├── tsconfig.json           # TypeScript配置
├── src/
│   ├── main.ts            # 应用入口
│   ├── styles/
│   │   └── main.css       # 主样式文件
│   ├── modules/
│   │   ├── engine.ts      # 游戏核心引擎
│   │   ├── ui.ts          # 用户界面逻辑
│   │   └── storage.ts     # 本地存储管理
│   ├── data/
│   │   └── index.ts       # 游戏数据（符文、敌人等）
│   ├── types/
│   │   └── index.ts       # TypeScript类型定义
│   ├── utils/
│   │   └── helpers.ts     # 工具函数
│   ├── assets/
│   │   ├── images/        # 图片资源
│   │   └── icons/         # 图标资源
│   └── tests/             # 测试目录
└── .trae/
    └── spec/              # 规格说明书
```

## 未来计划

- 添加更多类型的符文
- 实现升级系统，解锁更多法术槽位
- 添加装备系统，影响角色属性
- 增加剧情内容，丰富游戏体验
- 实现存档系统，支持多个存档

## 贡献指南

欢迎提交Issue和Pull Request！

## 许可证

MIT License
