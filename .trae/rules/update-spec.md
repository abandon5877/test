# 代码修改与规格说明书同步规则

## 规则目的
确保代码修改与设计规格说明书（spec）保持同步，提高代码可维护性和项目一致性。

## 适用范围
本规则适用于所有对项目代码的修改，包括但不限于：
- 功能实现
- Bug修复
- 代码重构
- 性能优化

## 具体要求
1. **修改前检查**：在修改代码前，先查看相关的设计规格说明，确保理解当前实现的设计意图。

2. **修改后更新**：
   - 当代码修改涉及到功能变更时，必须同步更新 `.trae/spec/` 目录下的相关规格说明文档。
   - 当代码修改影响到数据结构、界面设计或核心逻辑时，必须在规格说明文档中反映这些变化。

3. **文档格式**：
   - 规格说明文档应使用 Markdown 格式。
   - 文档结构应清晰，包含必要的章节和示例。
   - 代码示例应与实际代码保持一致。

4. **版本控制**：
   - 规格说明文档应与代码一起纳入版本控制系统。
   - 提交代码时，应同时提交对应的规格说明文档更新。

5. **审核流程**：
   - 代码审查时，应同时审查规格说明文档的更新。
   - 确保代码实现与规格说明文档描述的功能一致。

## 违反规则的后果
- 代码可能与设计意图不一致，导致功能错误或维护困难。
- 新成员可能难以理解代码的设计意图和实现逻辑。
- 项目文档与实际实现脱节，影响项目的整体质量。

## 例外情况
- 对代码的微小修改（如变量名调整、注释添加等）不需要更新规格说明文档。
- 对性能优化的修改，若不影响功能和接口，则不需要更新规格说明文档。